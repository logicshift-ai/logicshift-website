<div 
  x-data="{ 
    showBanner: localStorage.getItem('cookieConsent') !== 'accepted',
    init() {
      // Auto-hide after 10 seconds if no action
      setTimeout(() => {
        if (this.showBanner) {
          this.showBanner = false;
        }
      }, 10000); // 10 seconds
    }
  }" 
  x-init="init"
  x-show="showBanner" 
  x-transition.opacity.duration.700ms
  class="fixed bottom-4 left-4 right-4 z-[99999999999999999999] mx-auto max-w-sm sm:left-6 sm:right-auto"
>
  <div class="flex flex-col gap-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-black shadow-2xl p-4">

    <!-- Header -->
    <div class="flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-2">
      <h3 class="flex items-center gap-2 font-semibold text-lg text-black dark:text-white">
        <span class="text-3xl" aria-hidden="true">üç™</span>
        Cookie Time!
      </h3>
    </div>

    <!-- Body -->
    <div class="text-sm leading-relaxed">
      <p>
        We use cookies to make your experience sweet and crispy. For more information, please read our 
        <a 
          href="{{ "/privacy-policy/" | relURL }}" 
          class="cursor-pointer font-medium underline underline-offset-2 hover:opacity-80 focus:underline focus:outline-none text-primary dark:text-primary-dark"
        >
          Privacy Policy
        </a>.
      </p>
    </div>

    <!-- Footer -->
    <div class="flex flex-col-reverse gap-2 pt-2 border-t border-gray-200 dark:border-gray-700 sm:flex-row sm:justify-end sm:items-center">
      
      <!-- Decline -->
      <button 
        @click="localStorage.setItem('cookieConsent', 'declined'); showBanner = false" 
        type="button" 
        class="w-full sm:w-auto cursor-pointer whitespace-nowrap p-2 text-center text-xs font-medium tracking-wide text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition"
      >
        No, thank you
      </button>

      <!-- Accept -->
      <button 
        @click="localStorage.setItem('cookieConsent', 'accepted'); showBanner = false" 
        type="button" 
        class="w-full sm:w-auto cursor-pointer whitespace-nowrap bg-primary px-4 py-2 border border-primary text-center text-xs font-medium tracking-wide text-on-primary dark:text-on-primary-dark hover:opacity-90 rounded-lg transition"
      >
        Sounds Good!
      </button>
    </div>

  </div>
</div>
